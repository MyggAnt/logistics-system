# IoT Модуль - Логистическая система

## Обзор

IoT модуль логистической системы предоставляет комплексное решение для мониторинга и управления IoT-устройствами в логистических операциях. Модуль включает в себя интеграцию с GPS-трекерами, температурными сенсорами и RFID системами.

## Основные компоненты

### 1. GPS Трекеры
- **Назначение**: Отслеживание местоположения транспортных средств в реальном времени
- **Функциональность**:
  - Мониторинг координат (широта, долгота, высота)
  - Отслеживание скорости и направления движения
  - Контроль уровня заряда батареи
  - Мониторинг силы сигнала
  - Определение статуса движения (в движении/остановлен)

- **Типы данных**:
  - `trackerId`: Уникальный идентификатор трекера
  - `latitude/longitude`: GPS координаты
  - `speed`: Скорость в км/ч
  - `heading`: Направление в градусах
  - `batteryLevel`: Уровень заряда в процентах
  - `signalStrength`: Сила сигнала в дБм

### 2. Температурные сенсоры
- **Назначение**: Контроль температуры в грузовиках и складских помещениях
- **Функциональность**:
  - Мониторинг температуры в реальном времени
  - Контроль влажности
  - Установка целевых температур
  - Система предупреждений при отклонениях
  - Мониторинг уровня заряда батареи

- **Расположения**:
  - `cargo_area`: Грузовой отсек
  - `engine`: Двигатель
  - `refrigerator`: Рефрижератор
  - `external`: Внешний сенсор
  - `driver_cabin`: Кабина водителя

- **Типы данных**:
  - `currentTemperature`: Текущая температура в °C
  - `targetTemperature`: Целевая температура
  - `humidity`: Влажность в %
  - `batteryLevel`: Уровень заряда в процентах
  - `isAlert`: Флаг предупреждения

### 3. RFID Системы
- **Назначение**: Автоматическая идентификация грузов и товаров
- **Функциональность**:
  - Считывание RFID тегов
  - Контроль доступа на склад
  - Автоматическое ведение учета
  - Статистика считываний и ошибок

- **Типы устройств**:
  - `reader`: RFID ридер
  - `tag`: RFID тег
  - `gate`: RFID ворота
  - `antenna`: RFID антенна

- **Типы данных**:
  - `frequency`: Частота работы в МГц
  - `readRange`: Дальность считывания в метрах
  - `readCount`: Количество успешных считываний
  - `errorCount`: Количество ошибок
  - `lastReadTagId`: ID последнего считанного тега

## Архитектура

### Backend (TypeORM + GraphQL)
- **Сущности**:
  - `IotSensor`: Базовая сущность для IoT устройств
  - `GpsTracker`: Специализированная сущность для GPS трекеров
  - `TemperatureSensor`: Специализированная сущность для температурных сенсоров
  - `RfidSystem`: Специализированная сущность для RFID систем
  - `SensorReading`: Чтения с сенсоров

- **API Endpoints**:
  - GraphQL схема для всех IoT операций
  - REST API для интеграции с внешними системами
  - WebSocket для real-time обновлений

### Frontend (React + Ant Design)
- **Страницы**:
  - `/admin/sensors`: Управление IoT устройствами
  - `/admin/monitoring`: Мониторинг в реальном времени

- **Компоненты**:
  - Таблицы устройств с фильтрацией и поиском
  - Графики в реальном времени
  - Система уведомлений и предупреждений
  - Панели управления мониторингом

## Функциональность

### Мониторинг в реальном времени
- Обновление данных каждые 5 секунд
- Автоматические уведомления о событиях
- Визуализация данных через графики
- Статус-индикаторы для всех устройств

### Управление устройствами
- Добавление новых IoT устройств
- Редактирование параметров
- Установка пороговых значений
- Настройка интервалов обновления

### Аналитика и отчеты
- Статистика по типам устройств
- Анализ производительности
- Отслеживание трендов
- Экспорт данных

## Интеграция

### Внешние системы
- **GPS провайдеры**: Поддержка различных GPS сервисов
- **IoT платформы**: Интеграция с AWS IoT, Azure IoT Hub
- **Мобильные приложения**: Push уведомления для водителей
- **ERP системы**: Синхронизация данных с корпоративными системами

### Протоколы связи
- **HTTP/HTTPS**: REST API и GraphQL
- **WebSocket**: Real-time обновления
- **MQTT**: Легковесный протокол для IoT
- **CoAP**: Протокол для ограниченных устройств

## Безопасность

### Аутентификация и авторизация
- JWT токены для API доступа
- Ролевая модель доступа
- Шифрование данных в транзите
- Аудит всех операций

### Защита данных
- Шифрование чувствительной информации
- Ограничение доступа по IP
- Rate limiting для API
- Логирование всех действий

## Развертывание

### Требования
- Node.js 18+
- PostgreSQL 12+
- Redis (для кэширования)
- Docker (опционально)

### Установка
```bash
# Backend
cd backend
npm install
npm run build
npm start

# Frontend
cd frontend
npm install
npm run dev
```

### Конфигурация
- Настройка подключения к базе данных
- Конфигурация внешних API
- Настройка уведомлений
- Конфигурация мониторинга

## Мониторинг и обслуживание

### Системный мониторинг
- Мониторинг производительности базы данных
- Отслеживание доступности API
- Мониторинг использования ресурсов
- Алерты при критических ошибках

### Обслуживание
- Регулярные бэкапы данных
- Обновление зависимостей
- Мониторинг логов
- Плановое техническое обслуживание

## Дорожная карта

### Версия 1.1
- [ ] Поддержка Bluetooth LE устройств
- [ ] Интеграция с LoRaWAN
- [ ] Расширенная аналитика
- [ ] Мобильное приложение

### Версия 1.2
- [ ] Машинное обучение для предсказания отказов
- [ ] Автоматическое масштабирование
- [ ] Multi-tenant архитектура
- [ ] API для сторонних разработчиков

### Версия 2.0
- [ ] Edge computing поддержка
- [ ] Blockchain интеграция
- [ ] AI-powered оптимизация маршрутов
- [ ] AR/VR интерфейсы

## Поддержка

### Документация
- API Reference
- Руководство пользователя
- Руководство разработчика
- Примеры интеграции

### Контакты
- Техническая поддержка: support@logistics-iot.com
- Документация: docs.logistics-iot.com
- GitHub: github.com/logistics-iot
- Демо: demo.logistics-iot.com
